import {useEffect,useState} from 'react';
import api from '../api/apiClient';
export default function Items(){ const [items,setItems]=useState([]); useEffect(()=>{ api.get('/items').then(r=>setItems(r.data)).catch(()=>{}); },[]); return (<div><h3>Items</h3><table><thead><tr><th>Name</th><th>Type</th><th>Qty</th><th>AddedBy</th><th>Action</th></tr></thead><tbody>{items.map(i=>(<tr key={i._id}><td>{i.name}</td><td>{i.type}</td><td>{i.quantity}</td><td>{i.addedBy?.name}</td><td><button onClick={async ()=>{ const q = Number(prompt('Qty to release')); const to = prompt('Released to'); if(!q||!to) return; await api.post(`/items/release/${i._id}`,{qtyReleased:q,releasedTo:to}); const res=await api.get('/items'); setItems(res.data); }}>Release</button></td></tr>))}</tbody></table></div>); }
